# `Deployment` object example

I apply the `cluster-one-three`:

```bash
kind version
kind get clusters
ls ~/kind-workload/deployment-examples/webserver-deploy/
cd ~/kind-workload/deployment-examples/webserver-deploy/
ls -l ../kind-cluster-one-three.yaml
kind create cluster --config ../kind-cluster-one-three.yaml
kubectl cluster-info --context kind-cluster-one-three
```

## some checks

I give the following commands in another terminal:

```bash
kind get clusters
kubectl config view
kubectl get nodes -o wide
kubectl describe nodes
kubectl get sc
kubectl get ns
```

## `webserver-deploy` example

To monitor the pod, in a separate terminal, I typed the following command:

```bash
kubectl get pods -o wide --watch
```

I create a Deployment object as follows:

```bash
kubectl get deploy
ls -l ./webserver-deploy.yaml
kubectl apply -f ./webserver-deploy.yaml
```

Immediately after creating the Deployment object I can monitor its status in real time:

```bash
kubectl rollout status deployment webserver-deploy
```

After that I can view data for all objects of interest with the following commands:

```bash
kubectl get deploy -o wide
kubectl describe deploy webserver-deploy
kubectl get rs -o wide
kubectl describe rs webserver-deploy-__________
```

I can enable port forwarding rule on one of the two pods:

```bash
kubectl get pods
kubectl get pod webserver-deploy-__________-_____ -o wide
kubectl describe pod webserver-deploy-__________-_____
kubectl port-forward --address 0.0.0.0 pods/webserver-deploy-__________-_____ 8080:80
```

of course, instead of the underscores you should insert the pod identifier generated by the system.
To stop port forwarding rule, simply press ctrl-c in the same terminal from which you issued the previous command.

Finally I delete the Deployment object:

```bash
kubectl delete deploy webserver-deploy
kubectl get deploy
kubectl get rs
kubectl get pods
```

## finally I proceed to delete this example of cluster

Finally, I delete the cluster by typing the following commands:

```bash
kind delete cluster --name cluster-one-three
```

and I check its actual success:

```bash
kind get clusters
```
